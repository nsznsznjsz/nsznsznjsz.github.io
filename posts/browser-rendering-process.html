<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <link rel="icon" href="/logo.png"><title>从 url -> 网页 | Celeste's blog</title><meta name="description" content="Technique && Life"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.21">
    <link rel="modulepreload" href="/assets/app.cad05c30.js"><link rel="modulepreload" href="/assets/browser-rendering-process.html.e229eb34.js"><link rel="modulepreload" href="/assets/browser-rendering-process.html.248805e0.js">
    <link rel="stylesheet" href="/assets/style.b2f4734d.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="layout"><main class="layout__main"><!--[--><article class="page prose max-w-none"><!--[--><h1 id="从-url-网页" tabindex="-1"><a class="header-anchor" href="#从-url-网页" aria-hidden="true">#</a> 从 url -&gt; 网页</h1><ul><li><a href="#%E4%BB%8E-url---%E7%BD%91%E9%A1%B5">从 url -&gt; 网页</a></li><li><a href="#1-%E8%AF%B7%E6%B1%82%E5%86%85%E5%AE%B9">1. 请求内容</a></li><li><a href="#2-%E6%9E%84%E5%BB%BA%E6%9C%B4%E7%B4%A0%E7%9A%84-dom-%E6%A0%91">2. 构建朴素的 DOM 树</a><ul><li><a href="#%E6%B5%81%E5%BC%8F%E8%A7%A3%E6%9E%90">流式解析</a></li></ul></li><li><a href="#3-%E8%AE%A1%E7%AE%97-css">3. 计算 CSS</a><ul><li><a href="#%E6%B5%81%E5%BC%8F%E6%B8%B2%E6%9F%93">流式渲染</a></li><li><a href="#%E6%B8%B2%E6%9F%93%E9%A1%BA%E5%BA%8F">渲染顺序</a></li><li><a href="#%E9%80%89%E6%8B%A9%E5%99%A8">选择器</a></li><li><a href="#%E6%B2%A1%E6%9C%89%E7%88%B6%E9%80%89%E6%8B%A9%E5%99%A8">没有父选择器</a></li></ul></li><li><a href="#4-%E6%B8%B2%E6%9F%93">4. 渲染</a><ul><li><a href="#%E7%9B%92%E6%A8%A1%E5%9E%8B">盒模型</a></li><li><a href="#%E6%8E%92%E7%89%88">排版</a></li><li><a href="#%E6%B5%81%E5%BC%8F%E6%B8%B2%E6%9F%93-1">流式渲染</a></li></ul></li><li><a href="#5-%E4%BD%8D%E5%9B%BE%E5%90%88%E6%88%90%E5%8F%AF%E9%80%89">5. 位图合成(可选)</a></li><li><a href="#6-%E7%BB%98%E5%88%B6">6. 绘制</a></li></ul><h1 id="_1-请求内容" tabindex="-1"><a class="header-anchor" href="#_1-请求内容" aria-hidden="true">#</a> 1. 请求内容</h1><p>HTTP / HTTPS 请求数据, url -&gt; 文本内容</p><h1 id="_2-构建朴素的-dom-树" tabindex="-1"><a class="header-anchor" href="#_2-构建朴素的-dom-树" aria-hidden="true">#</a> 2. 构建朴素的 DOM 树</h1><h2 id="流式解析" tabindex="-1"><a class="header-anchor" href="#流式解析" aria-hidden="true">#</a> 流式解析</h2><p>状态机分词: https://github.com/aimergenge/toy-html-parser</p><h1 id="_3-计算-css" tabindex="-1"><a class="header-anchor" href="#_3-计算-css" aria-hidden="true">#</a> 3. 计算 CSS</h1><h2 id="流式渲染" tabindex="-1"><a class="header-anchor" href="#流式渲染" aria-hidden="true">#</a> 流式渲染</h2><p>每生成一个dom节点, 便立刻去匹配相应的css规则</p><h2 id="渲染顺序" tabindex="-1"><a class="header-anchor" href="#渲染顺序" aria-hidden="true">#</a> 渲染顺序</h2><p>父节点 -&gt; 子节点</p><h2 id="选择器" tabindex="-1"><a class="header-anchor" href="#选择器" aria-hidden="true">#</a> 选择器</h2><ul><li>混合选择器</li></ul><p>在激活的时候父元素已经确定好了</p><ul><li>后代选择器</li></ul><p>所有元素都是父元素，并选中自己的子元素</p><ul><li>子元素选择器</li></ul><p>只有父元素为当前节点的 dom 元素会被选中</p><ul><li>在父元素结束标签时，关闭选择器</li></ul><h2 id="没有父选择器" tabindex="-1"><a class="header-anchor" href="#没有父选择器" aria-hidden="true">#</a> 没有父选择器</h2><p>在保证选择器在 DOM 树构建到当前节点时, 已经可以准确判断是是否匹配, 不需要后续节点信息, 保证了上述三条的正常工作</p><h1 id="_4-渲染" tabindex="-1"><a class="header-anchor" href="#_4-渲染" aria-hidden="true">#</a> 4. 渲染</h1><p><strong>作用</strong> 得到内存中的位图</p><p>流式渲染</p><h2 id="盒模型" tabindex="-1"><a class="header-anchor" href="#盒模型" aria-hidden="true">#</a> 盒模型</h2><p>box-sizing: content-box, border-box, inherit</p><h2 id="排版" tabindex="-1"><a class="header-anchor" href="#排版" aria-hidden="true">#</a> 排版</h2><ul><li>正常流: <ul><li>顺次排版</li><li>文字流: 行模型, 折行</li><li>盒模型</li></ul></li><li>绝对定位</li><li><strong>浮动定位</strong>: 先进正常流, 再浮动, 会引起整行重排</li><li>flex</li><li>grid</li><li>表格排版</li></ul><h2 id="流式渲染-1" tabindex="-1"><a class="header-anchor" href="#流式渲染-1" aria-hidden="true">#</a> 流式渲染</h2><h1 id="_5-位图合成-可选" tabindex="-1"><a class="header-anchor" href="#_5-位图合成-可选" aria-hidden="true">#</a> 5. 位图合成(可选)</h1><p><strong>作用</strong> 把子元素合成到父元素盒中</p><p><strong>目的</strong> 加快绘制速度, 最大程度优化渲染</p><p><strong>方法</strong> 猜测不变的元素</p><ul><li>position</li><li>transform</li><li>will-change CSS3 谨慎使用</li></ul><h1 id="_6-绘制" tabindex="-1"><a class="header-anchor" href="#_6-绘制" aria-hidden="true">#</a> 6. 绘制</h1><!--]--></article><!--]--></main><aside class="layout__sub"><!--[--><div>Sidebar</div><!--]--></aside><aside class="layout__extra"><!--[--><div class="sticky top-12 p-4 mr-8"><h3 class="pb-1 text-lg font-bold select-none">CATALOG</h3><ul><!--[--><li class="catalog__item"><a aria-current="page" href="/posts/browser-rendering-process.html#%E6%B5%81%E5%BC%8F%E8%A7%A3%E6%9E%90" class="router-link-active router-link-exact-active catalog__link">流式解析</a><!----></li><li class="catalog__item"><a aria-current="page" href="/posts/browser-rendering-process.html#%E6%B5%81%E5%BC%8F%E6%B8%B2%E6%9F%93" class="router-link-active router-link-exact-active catalog__link">流式渲染</a><!----></li><li class="catalog__item"><a aria-current="page" href="/posts/browser-rendering-process.html#%E6%B8%B2%E6%9F%93%E9%A1%BA%E5%BA%8F" class="router-link-active router-link-exact-active catalog__link">渲染顺序</a><!----></li><li class="catalog__item"><a aria-current="page" href="/posts/browser-rendering-process.html#%E9%80%89%E6%8B%A9%E5%99%A8" class="router-link-active router-link-exact-active catalog__link">选择器</a><!----></li><li class="catalog__item"><a aria-current="page" href="/posts/browser-rendering-process.html#%E6%B2%A1%E6%9C%89%E7%88%B6%E9%80%89%E6%8B%A9%E5%99%A8" class="router-link-active router-link-exact-active catalog__link">没有父选择器</a><!----></li><li class="catalog__item"><a aria-current="page" href="/posts/browser-rendering-process.html#%E7%9B%92%E6%A8%A1%E5%9E%8B" class="router-link-active router-link-exact-active catalog__link">盒模型</a><!----></li><li class="catalog__item"><a aria-current="page" href="/posts/browser-rendering-process.html#%E6%8E%92%E7%89%88" class="router-link-active router-link-exact-active catalog__link">排版</a><!----></li><li class="catalog__item"><a aria-current="page" href="/posts/browser-rendering-process.html#%E6%B5%81%E5%BC%8F%E6%B8%B2%E6%9F%93-1" class="router-link-active router-link-exact-active catalog__link">流式渲染</a><!----></li><!--]--></ul></div><!--]--></aside><header class="layout__header"><!--[--><div class="header h-full flex flex-col justify-center items-center relative overflow-hidden"><div class="flex flex-col items-start"><div class="z-30 min-w-max"><!--[--><a href="/tags/browser.html" class="header__pill-link" style="--pill-color:#00bcd4;">浏览器</a><!--]--><a class="header__pill-link" href="https://github.com/nsznsznjsz/blog/edit/main/2019/10/28/browser-rendering-process.md" target="_blank">编辑此页</a></div><h1 class="my-6 z-30 text-white text-8xl font-medium">从 url -&gt; 网页</h1></div><div class="flex z-30"><div class="header__meta-item">发表于 2019-10-28</div><div class="header__meta-item">更新于 2021-3-20</div></div><div class="flex z-30"><div class="header__meta-item"> 分类于 <!--[--><span class="header__categories"><!--[--><a href="/categories/computer-science.html" class="header__category">计科</a><a href="/categories/computer-science/front-end.html" class="header__category">前端</a><!--]--></span><!--]--></div></div></div><!--]--></header><footer class="layout__footer"><!--[--><div class="flex flex-col items-center m-4 py-4 text-gray-400 text-sm select-none"><span>Copyright © 2021 – 2021 Celeste</span><span>Powered by <a href="https://vuepress.vuejs.org/" target="_blank" class="underline">Vuepress</a></span></div><!--]--></footer><nav class="layout__nav overflow-hidden z-50"><!--[--><div class="navbar navbar_transparent" style=""><ul class="flex"><li class="navbar__link"><a href="/" class="font-bold">CELESTE&#39;S BLOG</a></li></ul><ul class="flex"><!--[--><li class="navbar__link"><a href="/archives.html" class="">ARCHIVES</a></li><li class="navbar__link"><a href="/categories.html" class="">CATEGORIES</a></li><li class="navbar__link"><a href="/tags.html" class="">TAGS</a></li><li class="navbar__link"><a href="/about.html" class="">ABOUT</a></li><!--]--></ul></div><!--]--></nav><!----></div><!--]--></div>
    <script type="module" src="/assets/app.cad05c30.js" defer></script>
  </body>
</html>
