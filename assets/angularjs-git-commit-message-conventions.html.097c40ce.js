import{r as e,o as n,c as s,a,F as l,b as r}from"./app.cad05c30.js";const i={},t=a("h1",{id:"angularjs-git-commit-message-conventions",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#angularjs-git-commit-message-conventions","aria-hidden":"true"},"#"),r(" AngularJS Git Commit Message Conventions")],-1),c=r("via: "),o={href:"https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.uyo6cb12dt6w",target:"_blank",rel:"noopener noreferrer"},b=r("Git Commit Message Conventions"),u=a("p",null,"Git 中每次 commit，都需要书写 commit message：",-1),m=a("div",{class:"language-bash ext-sh line-numbers-mode"},[a("pre",{class:"language-bash"},[a("code",null,'git commit -m "hello world"\n')]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br")])],-1),d=a("p",null,[r("每次使用 "),a("code",null,"git log"),r(" 时，一份清晰的commit message 可以帮助我们快速找到所需的 commit，AngularJS Git Commit Message Conventions 就是帮助你写好它。")],-1),p=a("h2",{id:"目标",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#目标","aria-hidden":"true"},"#"),r(" 目标")],-1),g=a("ul",null,[a("li",null,"提供更多的历史信息，方便浏览"),a("li",null,"允许过滤 commit 便于查找"),a("li",null,"可以通过脚本生成 Change log")],-1),h=a("h2",{id:"格式",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#格式","aria-hidden":"true"},"#"),r(" 格式")],-1),v=a("p",null,"Message 由 Header、Body（Optional）和 Footer（Optional）组成，通过空行连接：",-1),x=a("div",{class:"language-text ext-text line-numbers-mode"},[a("pre",{class:"language-text"},[a("code",null,"<type>(<scope>): <subject>\n<BLANK LINE>\n<body>\n<BLANK LINE>\n<footer>\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br")])],-1),f=a("p",null,"同时，每行不应超过100字符，这是避免自动换行影响美观。",-1),y=a("h3",{id:"message-header",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#message-header","aria-hidden":"true"},"#"),r(" Message Header")],-1),w=a("p",null,"Header 只有一行，由 type、scope（optional）和 subject 组成。",-1),A=a("h4",{id:"type",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#type","aria-hidden":"true"},"#"),r(" type")],-1),C=a("p",null,"规定的类型如下：",-1),j=a("ul",null,[a("li",null,"feat：新功能（feature）"),a("li",null,"fix：修补bug"),a("li",null,"docs：文档（documentation）"),a("li",null,"style： 格式（formatting）"),a("li",null,"refactor：重构"),a("li",null,"test：增加测试"),a("li",null,"chore：构建过程或辅助工具的变动，例如 deps、ci")],-1),k=a("p",null,"还有一种特殊情况",-1),E=a("ul",null,[a("li",null,"revert：撤销以前的 commit，后面跟着被撤销 Commit 的 Header。")],-1),I=a("div",{class:"language-text ext-text line-numbers-mode"},[a("pre",{class:"language-text"},[a("code",null,"revert: feat(pencil): add 'graphiteWidth' option\n\nThis reverts commit 667ecc1654a317a13331b17617d973392f415f02.\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br")])],-1),B=a("p",null,[r("Body部分的格式是固定的，必须写成"),a("code",null,"This reverts commit <hash>.")],-1),z=a("p",null,[r("如果当前 commit 与被撤销的 commit，在同一次发布（release）里面，那么它们都不会出现在 Change log 里面。如果两者在不同的发布，那么当前 commit，会出现在 Change log 的"),a("code",null,"Reverts"),r("小标题下面。")],-1),G=a("h4",{id:"scope",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#scope","aria-hidden":"true"},"#"),r(" scope")],-1),N=a("p",null,"项目的范围，或是用于关联 Issue（#1)。",-1),L=a("h4",{id:"subject",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#subject","aria-hidden":"true"},"#"),r(" subject")],-1),H=a("p",null,"对于 change 的一行简短的描述",-1),O=a("ul",null,[a("li",null,"use imperative, present tense: “change” not “changed” nor “changes”"),a("li",null,"don't capitalize first letter"),a("li",null,"no dot (.) at the end")],-1),M=a("h3",{id:"message-body",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#message-body","aria-hidden":"true"},"#"),r(" Message Body")],-1),T=a("h3",{id:"message-footer",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#message-footer","aria-hidden":"true"},"#"),r(" Message Footer")],-1),R=a("p",null,"主要用于标记破坏性更新和关闭Issue",-1),$=a("h4",{id:"breaking-changes",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#breaking-changes","aria-hidden":"true"},"#"),r(" BREAKING CHANGES")],-1),q=a("div",{class:"language-text ext-text line-numbers-mode"},[a("pre",{class:"language-text"},[a("code",null,"BREAKING CHANGE: isolate scope bindings definition has changed and\n    the inject option for the directive controller injection was removed.\n    \n    To migrate the code follow the example below:\n    \n    Before:\n    \n    scope: {\n      myAttr: 'attribute',\n      myBind: 'bind',\n      myExpression: 'expression',\n      myEval: 'evaluate',\n      myAccessor: 'accessor'\n    }\n    \n    After:\n    \n    scope: {\n      myAttr: '@',\n      myBind: '@',\n      myExpression: '&',\n      // myEval - usually not useful, but in cases where the expression is assignable, you can use '='\n      myAccessor: '=' // in directive's template change myAccessor() to myAccessor\n    }\n    \n    The removed `inject` wasn't generaly useful for directives so there should be no code using it.\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br"),a("span",{class:"line-number"},"22"),a("br"),a("span",{class:"line-number"},"23"),a("br"),a("span",{class:"line-number"},"24"),a("br"),a("span",{class:"line-number"},"25"),a("br"),a("span",{class:"line-number"},"26"),a("br")])],-1),K=a("h4",{id:"referencing-issues",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#referencing-issues","aria-hidden":"true"},"#"),r(" Referencing Issues")],-1),_=a("p",null,"关闭一个 Issue：",-1),D=a("div",{class:"language-text ext-text line-numbers-mode"},[a("pre",{class:"language-text"},[a("code",null,"Closes #234\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br")])],-1),F=a("p",null,"或是同时关闭多个 Issues：",-1),S=a("div",{class:"language-text ext-text line-numbers-mode"},[a("pre",{class:"language-text"},[a("code",null,"Closes #123, #245, #992\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br")])],-1),U=a("h3",{id:"examples",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#examples","aria-hidden":"true"},"#"),r(" Examples")],-1),J=a("div",{class:"language-text ext-text line-numbers-mode"},[a("pre",{class:"language-text"},[a("code",null,"feat($browser): onUrlChange event (popstate/hashchange/polling)\n\nAdded new event to $browser:\n- forward popstate event if available\n- forward hashchange event if popstate not available\n- do polling when neither popstate nor hashchange available\n\nBreaks $browser.onHashChange, which was removed (use onUrlChange instead)\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br")])],-1),W=a("div",{class:"language-text ext-text line-numbers-mode"},[a("pre",{class:"language-text"},[a("code",null,"fix($compile): couple of unit tests for IE9\n\nOlder IEs serialize html uppercased, but IE9 does not...\nWould be better to expect case insensitive, unfortunately jasmine does\nnot allow to user regexps for throw expectations.\n\nCloses #392\nBreaks foo.bar api, foo.baz should be used instead\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br")])],-1),P=a("div",{class:"language-text ext-text line-numbers-mode"},[a("pre",{class:"language-text"},[a("code",null,"feat(directive): ng:disabled, ng:checked, ng:multiple, ng:readonly, ng:selected\n\nNew directives for proper binding these attributes in older browsers (IE).\nAdded coresponding description, live examples and e2e tests.\n\nCloses #351\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br")])],-1),Q=a("div",{class:"language-text ext-text line-numbers-mode"},[a("pre",{class:"language-text"},[a("code",null,"style($location): add couple of missing semi colons\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br")])],-1),Y=a("div",{class:"language-text ext-text line-numbers-mode"},[a("pre",{class:"language-text"},[a("code",null,"docs(guide): updated fixed docs from Google Docs\n\nCouple of typos fixed:\n- indentation\n- batchLogbatchLog -> batchLog\n- start periodic checking\n- missing brace\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br")])],-1),V=a("div",{class:"language-text ext-text line-numbers-mode"},[a("pre",{class:"language-text"},[a("code",null,"feat($compile): simplify isolate scope bindings\n\nChanged the isolate scope binding options to:\n  - @attr - attribute binding (including interpolation)\n  - =model - by-directional model binding\n  - &expr - expression execution binding\n\nThis change simplifies the terminology as well as\nnumber of choices available to the developer. It\nalso supports local name aliasing from the parent.\n\nBREAKING CHANGE: isolate scope bindings definition has changed and\nthe inject option for the directive controller injection was removed.\n\nTo migrate the code follow the example below:\n\nBefore:\n\nscope: {\n  myAttr: 'attribute',\n  myBind: 'bind',\n  myExpression: 'expression',\n  myEval: 'evaluate',\n  myAccessor: 'accessor'\n}\n\nAfter:\n\nscope: {\n  myAttr: '@',\n  myBind: '@',\n  myExpression: '&',\n  // myEval - usually not useful, but in cases where the expression is assignable, you can use '='\n  myAccessor: '=' // in directive's template change myAccessor() to myAccessor\n}\n\nThe removed `inject` wasn't generaly useful for directives so there should be no code using it.\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br"),a("span",{class:"line-number"},"9"),a("br"),a("span",{class:"line-number"},"10"),a("br"),a("span",{class:"line-number"},"11"),a("br"),a("span",{class:"line-number"},"12"),a("br"),a("span",{class:"line-number"},"13"),a("br"),a("span",{class:"line-number"},"14"),a("br"),a("span",{class:"line-number"},"15"),a("br"),a("span",{class:"line-number"},"16"),a("br"),a("span",{class:"line-number"},"17"),a("br"),a("span",{class:"line-number"},"18"),a("br"),a("span",{class:"line-number"},"19"),a("br"),a("span",{class:"line-number"},"20"),a("br"),a("span",{class:"line-number"},"21"),a("br"),a("span",{class:"line-number"},"22"),a("br"),a("span",{class:"line-number"},"23"),a("br"),a("span",{class:"line-number"},"24"),a("br"),a("span",{class:"line-number"},"25"),a("br"),a("span",{class:"line-number"},"26"),a("br"),a("span",{class:"line-number"},"27"),a("br"),a("span",{class:"line-number"},"28"),a("br"),a("span",{class:"line-number"},"29"),a("br"),a("span",{class:"line-number"},"30"),a("br"),a("span",{class:"line-number"},"31"),a("br"),a("span",{class:"line-number"},"32"),a("br"),a("span",{class:"line-number"},"33"),a("br"),a("span",{class:"line-number"},"34"),a("br"),a("span",{class:"line-number"},"35"),a("br"),a("span",{class:"line-number"},"36"),a("br"),a("span",{class:"line-number"},"37"),a("br")])],-1),X=a("h2",{id:"插件",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#插件","aria-hidden":"true"},"#"),r(" 插件")],-1),Z=a("h3",{id:"commitizen",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#commitizen","aria-hidden":"true"},"#"),r(" Commitizen")],-1),ee=r("via: "),ne={href:"https://github.com/commitizen/cz-cli",target:"_blank",rel:"noopener noreferrer"},se=r("Github"),ae=a("p",null,"Commitizen 用于帮助书写合格的 commit message，安装如下：",-1),le=a("div",{class:"language-bash ext-sh line-numbers-mode"},[a("pre",{class:"language-bash"},[a("code",null,"npm install -g commitizen\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br")])],-1),re=a("p",null,"然后，在项目目录里，运行下面的命令，使其支持 Angular 的 Commit message 格式。",-1),ie=a("div",{class:"language-bash ext-sh line-numbers-mode"},[a("pre",{class:"language-bash"},[a("code",null,"commitizen init cz-conventional-changelog --save --save-exact\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br")])],-1),te=a("p",null,[r("最后，将"),a("code",null,"git commit"),r("改为使用"),a("code",null,"git cz"),r("即可。")],-1),ce=a("p",null,[a("img",{src:"/assets/commitizen.11eaffd2.png",alt:"commitizen"})],-1),oe=a("h3",{id:"validate-commit-msg",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#validate-commit-msg","aria-hidden":"true"},"#"),r(" validate-commit-msg")],-1),be=r("via: "),ue={href:"https://www.npmjs.com/package/validate-commit-msg",target:"_blank",rel:"noopener noreferrer"},me=r("npm"),de=a("p",null,"validate-commit-msg 用于校验 commit message 是否符合规则，安装如下：",-1),pe=a("div",{class:"language-bash ext-sh line-numbers-mode"},[a("pre",{class:"language-bash"},[a("code",null,"npm install --save-dev validate-commit-msg\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br")])],-1),ge=a("p",null,"然后可以通过 git hooks 来调用，例如 husky：",-1),he=a("div",{class:"language-bash ext-sh line-numbers-mode"},[a("pre",{class:"language-bash"},[a("code",null,"npm install husky --save-dev\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br")])],-1),ve=a("p",null,"并添加 hook：",-1),xe=a("div",{class:"language-json ext-json line-numbers-mode"},[a("pre",{class:"language-json"},[a("code",null,'// package.json\n{\n  "husky": {\n    "hooks": {\n      "commitmsg": "validate-commit-msg"\n    }\n  }\n}\n')]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br"),a("span",{class:"line-number"},"4"),a("br"),a("span",{class:"line-number"},"5"),a("br"),a("span",{class:"line-number"},"6"),a("br"),a("span",{class:"line-number"},"7"),a("br"),a("span",{class:"line-number"},"8"),a("br")])],-1),fe=a("h3",{id:"conventional-changelog",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#conventional-changelog","aria-hidden":"true"},"#"),r(" conventional-changelog")],-1),ye=r("via: "),we={href:"https://github.com/conventional-changelog/conventional-changelog",target:"_blank",rel:"noopener noreferrer"},Ae=r("Github"),Ce=a("p",null,"用于生成 Change log，步骤如下：",-1),je=a("div",{class:"language-bash ext-sh line-numbers-mode"},[a("pre",{class:"language-bash"},[a("code",null,"npm install -g conventional-changelog\ncd my-project\nconventional-changelog -p angular -i CHANGELOG.md -w\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br"),a("span",{class:"line-number"},"3"),a("br")])],-1);i.render=function(r,i){const ke=e("OutboundLink");return n(),s(l,null,[t,a("blockquote",null,[a("p",null,[c,a("a",o,[b,a(ke)])])]),u,m,d,p,g,h,v,x,f,y,w,A,C,j,k,E,I,B,z,G,N,L,H,O,M,T,R,$,q,K,_,D,F,S,U,J,W,P,Q,Y,V,X,Z,a("blockquote",null,[a("p",null,[ee,a("a",ne,[se,a(ke)])])]),ae,le,re,ie,te,ce,oe,a("blockquote",null,[a("p",null,[be,a("a",ue,[me,a(ke)])])]),de,pe,ge,he,ve,xe,fe,a("blockquote",null,[a("p",null,[ye,a("a",we,[Ae,a(ke)])])]),Ce,je],64)};export default i;
